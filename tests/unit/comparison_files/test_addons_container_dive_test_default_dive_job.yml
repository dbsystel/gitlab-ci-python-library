stages:
- check
check-default:
  image:
    name: wagoodman/dive:latest
    entrypoint: &id001
    - ''
  stage: check
  script:
  - set -eo pipefail
  - dive docker-archive:///my/awsome/project/gitlab-ci-project.tar --ci |tee /path/to/project/dive.txt
  artifacts:
    paths:
    - dive.txt
check-custom-image-and-path:
  image:
    name: wagoodman/dive:latest
    entrypoint: *id001
  stage: check
  script:
  - set -eo pipefail
  - dive docker-archive:///absolute/path/image_name.tar --ci |tee /path/to/project/dive.txt
  artifacts:
    paths:
    - dive.txt
check-custom-settings:
  image:
    name: wagoodman/dive:latest
    entrypoint: *id001
  stage: check
  script:
  - set -eo pipefail
  - dive docker-archive:///my/awsome/project/gitlab-ci-project.tar --ci --highestUserWastedPercent
    "0.1" --highestWastedBytes "0.2" --lowestEfficiency "0.3" --ignore-errors |tee
    /path/to/project/dive.txt
  artifacts:
    paths:
    - dive.txt
