============================= test session starts ==============================
platform linux -- Python 3.8.2, pytest-5.4.3, py-1.9.0, pluggy-0.13.1
rootdir: /cdk
plugins: mock-3.2.0
collected 1 item

tests/unit/test_pipeline.py before_script:
- git clone --branch master --single-branch https://gitlab-ci-token:${CI_JOB_TOKEN}@${CI_SERVER_HOST}/otherproject/configuration.git
stages:
- cdk_diff_unstable_project_resources
- cdk_deploy_unstable_project_resources
- cdk_diff_unstable_windows_vm_bucket
- cdk_deploy_unstable_windows_vm_bucket
- cdk_diff_unstable_windows_vm_intances
- cdk_deploy_unstable_windows_vm_intances
- cdk_diff_dev_project_resources
- cdk_deploy_dev_project_resources
- cdk_diff_dev_windows_vm_intances
- cdk_deploy_dev_windows_vm_intances
- cdk_diff_tst_project_resources
- cdk_deploy_tst_project_resources
- cdk_diff_tst_windows_vm_intances
- cdk_deploy_tst_windows_vm_intances
- cdk_diff_iat_project_resources
- cdk_deploy_iat_project_resources
- cdk_diff_iat_windows_vm_intances
- cdk_deploy_iat_windows_vm_intances
cdk_diff_unstable_project_resources:
  script:
  - ./install-dependencies.sh
  - cdk synth myapp-unstable-project-resources
  - cdk diff myapp-unstable-project-resources
  variables: {}
  stage: cdk_diff_unstable_project_resources
cdk_deploy_unstable_project_resources:
  script:
  - ./install-dependencies.sh
  - cdk deploy --strict --require-approval 'never' --toolkit-stack-name foobar-toolkit
    myapp-unstable-project-resources
  variables: {}
  stage: cdk_deploy_unstable_project_resources
cdk_diff_unstable_windows_vm_bucket:
  script:
  - ./install-dependencies.sh
  - cdk synth myapp-unstable-windows-vm-bucket
  - cdk diff myapp-unstable-windows-vm-bucket
  variables: {}
  stage: cdk_diff_unstable_windows_vm_bucket
cdk_deploy_unstable_windows_vm_bucket:
  script:
  - ./install-dependencies.sh
  - cdk deploy --strict --require-approval 'never' --toolkit-stack-name foobar-toolkit
    myapp-unstable-windows-vm-bucket
  variables: {}
  stage: cdk_deploy_unstable_windows_vm_bucket
cdk_diff_unstable_windows_vm_intances:
  script:
  - ./install-dependencies.sh
  - cdk synth myapp-unstable-windows-vm-instances
  - cdk diff myapp-unstable-windows-vm-instances
  variables: {}
  stage: cdk_diff_unstable_windows_vm_intances
cdk_deploy_unstable_windows_vm_intances:
  script:
  - ./install-dependencies.sh
  - cdk deploy --strict --require-approval 'never' --toolkit-stack-name foobar-toolkit
    myapp-unstable-windows-vm-instances
  variables: {}
  stage: cdk_deploy_unstable_windows_vm_intances
cdk_diff_dev_project_resources:
  script:
  - ./install-dependencies.sh
  - cdk synth myapp-dev-project-resources
  - cdk diff myapp-dev-project-resources
  variables: {}
  stage: cdk_diff_dev_project_resources
cdk_deploy_dev_project_resources:
  script:
  - ./install-dependencies.sh
  - cdk deploy --strict --require-approval 'never' --toolkit-stack-name foobar-toolkit
    myapp-dev-project-resources
  variables: {}
  stage: cdk_deploy_dev_project_resources
cdk_diff_dev_windows_vm_intances:
  script:
  - ./install-dependencies.sh
  - cdk synth myapp-dev-windows-vm-instances
  - cdk diff myapp-dev-windows-vm-instances
  variables: {}
  stage: cdk_diff_dev_windows_vm_intances
cdk_deploy_dev_windows_vm_intances:
  script:
  - ./install-dependencies.sh
  - cdk deploy --strict --require-approval 'never' --toolkit-stack-name foobar-toolkit
    myapp-dev-windows-vm-instances
  variables: {}
  stage: cdk_deploy_dev_windows_vm_intances
cdk_diff_tst_project_resources:
  script:
  - ./install-dependencies.sh
  - cdk synth myapp-tst-project-resources
  - cdk diff myapp-tst-project-resources
  variables: {}
  stage: cdk_diff_tst_project_resources
cdk_deploy_tst_project_resources:
  script:
  - ./install-dependencies.sh
  - cdk deploy --strict --require-approval 'never' --toolkit-stack-name foobar-toolkit
    myapp-tst-project-resources
  variables: {}
  stage: cdk_deploy_tst_project_resources
cdk_diff_tst_windows_vm_intances:
  script:
  - ./install-dependencies.sh
  - cdk synth myapp-tst-windows-vm-instances
  - cdk diff myapp-tst-windows-vm-instances
  variables: {}
  stage: cdk_diff_tst_windows_vm_intances
cdk_deploy_tst_windows_vm_intances:
  script:
  - ./install-dependencies.sh
  - cdk deploy --strict --require-approval 'never' --toolkit-stack-name foobar-toolkit
    myapp-tst-windows-vm-instances
  variables: {}
  stage: cdk_deploy_tst_windows_vm_intances
cdk_diff_iat_project_resources:
  script:
  - ./install-dependencies.sh
  - cdk synth myapp-iat-project-resources
  - cdk diff myapp-iat-project-resources
  variables: {}
  stage: cdk_diff_iat_project_resources
cdk_deploy_iat_project_resources:
  script:
  - ./install-dependencies.sh
  - cdk deploy --strict --require-approval 'never' --toolkit-stack-name foobar-toolkit
    myapp-iat-project-resources
  variables: {}
  stage: cdk_deploy_iat_project_resources
cdk_diff_iat_windows_vm_intances:
  script:
  - ./install-dependencies.sh
  - cdk synth myapp-iat-windows-vm-instances
  - cdk diff myapp-iat-windows-vm-instances
  variables: {}
  stage: cdk_diff_iat_windows_vm_intances
cdk_deploy_iat_windows_vm_intances:
  script:
  - ./install-dependencies.sh
  - cdk deploy --strict --require-approval 'never' --toolkit-stack-name foobar-toolkit
    myapp-iat-windows-vm-instances
  variables: {}
  stage: cdk_deploy_iat_windows_vm_intances

.

============================== 1 passed in 0.22s ===============================
